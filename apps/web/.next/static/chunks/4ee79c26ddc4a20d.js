(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20366,e=>{"use strict";let t=(0,e.i(65474).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);e.s(["FileText",()=>t],20366)},76943,e=>{"use strict";var t=e.i(15620),r=e.i(12737);async function a(){let e=await (0,r.request)("/recettes");if(e.error)throw Error(e.error);return e.data}function l(){return(0,t.useQuery)({queryKey:["recettes"],queryFn:a})}e.s(["useRecettesList",()=>l],76943)},45491,e=>{"use strict";var t=e.i(47132),r=e.i(94250),a=e.i(39803);let l=(0,e.i(65474).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var n=e.i(20366),s=e.i(42460),d=e.i(10882),i=e.i(76943);function c(){let{data:e,isLoading:c,error:o}=(0,i.useRecettesList)();if(c)return(0,t.jsx)("div",{children:"Chargement..."});if(o)return(0,t.jsx)("div",{children:"Erreur lors du chargement des recettes"});let u=e?.reduce((e,t)=>e+Number(t.amount),0)||0;return(0,t.jsxs)(s.Card,{children:[(0,t.jsxs)(s.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,t.jsx)(s.CardTitle,{className:"px-4",children:(0,t.jsx)(n.FileText,{})}),(0,t.jsxs)(a.Button,{onClick:()=>{if(!e||e?.length===0)return;let t=new Blob([["Date,Numéro Facture,Client,Montant,Mode de Paiement",...e.map(e=>[(0,d.format)(new Date(e.date),"dd/MM/yyyy"),e.factureNumber||"-",e.clientName||"-",Number(e.amount).toFixed(2),e.paymentMethod||"-"]).map(e=>e.join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),a=URL.createObjectURL(t);r.setAttribute("href",a),r.setAttribute("download",`livre-recettes-${(0,d.format)(new Date,"yyyy-MM-dd")}.csv`),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)},disabled:!e||0===e.length,children:[(0,t.jsx)(l,{className:"mr-2 h-4 w-4"})," Exporter CSV"]})]}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsxs)(r.Table,{children:[(0,t.jsx)(r.TableHeader,{children:(0,t.jsxs)(r.TableRow,{children:[(0,t.jsx)(r.TableHead,{children:"Date"}),(0,t.jsx)(r.TableHead,{children:"Numéro Facture"}),(0,t.jsx)(r.TableHead,{children:"Client"}),(0,t.jsx)(r.TableHead,{children:"Montant"}),(0,t.jsx)(r.TableHead,{children:"Mode de Paiement"})]})}),(0,t.jsxs)(r.TableBody,{children:[e?.map(e=>(0,t.jsxs)(r.TableRow,{children:[(0,t.jsx)(r.TableCell,{children:(0,d.format)(new Date(e.date),"dd/MM/yyyy")}),(0,t.jsx)(r.TableCell,{children:e.factureNumber||"-"}),(0,t.jsx)(r.TableCell,{children:e.clientName||"-"}),(0,t.jsx)(r.TableCell,{className:"font-medium",children:Number(e.amount).toLocaleString("fr-FR",{style:"currency",currency:"EUR"})}),(0,t.jsx)(r.TableCell,{children:e.paymentMethod||"-"})]},e.id)),e?.length===0&&(0,t.jsx)(r.TableRow,{children:(0,t.jsx)(r.TableCell,{colSpan:5,className:"text-center text-muted-foreground",children:"Aucune recette trouvée."})})]})]}),e&&e.length>0&&(0,t.jsx)("div",{className:"mt-4 flex justify-end",children:(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("span",{className:"text-muted-foreground mr-4",children:"Total:"}),(0,t.jsx)("span",{className:"text-xl font-bold",children:u.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]})})]})]})}e.s(["RecettesTable",()=>c],45491)}]);