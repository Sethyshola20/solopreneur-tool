module.exports=[56225,4733,a=>{"use strict";var b=a.i(77566);a.s(["z",0,b],56225);let c=(0,a.i(57409).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>c],4733)},42294,a=>{"use strict";var b=a.i(91346),c=a.i(70308),d=a.i(74871),e=a.i(56225);let f=e.z.object({companyName:e.z.string().optional().nullable(),siret:e.z.string().optional().nullable(),address:e.z.string().optional().nullable(),email:e.z.string().email("Email invalide").optional().or(e.z.literal("")).nullable(),logoUrl:e.z.string().optional().nullable(),legalMentions:e.z.string().optional().nullable()});var g=a.i(21717),h=a.i(85058),i=a.i(71195),j=a.i(61751),k=a.i(41506);async function l(){let a=await (0,k.request)("/settings");if(a.error)throw Error(a.error);return a.data}async function m(a){let b=await (0,k.request)("/settings",{method:"POST",data:a});if(b.error)throw Error(b.error);if(!b.data)throw Error("Failed to save settings");return b.data}var n=a.i(70973),o=a.i(52804),p=a.i(17915),q=a.i(77486),r=a.i(4733);function s({initialData:a}){let e,k=(e=(0,p.useQueryClient)(),(0,o.useMutation)({mutationFn:a=>m(a),onSuccess:()=>{e.invalidateQueries({queryKey:["settings"]})}})),l=(0,c.useForm)({resolver:(0,d.zodResolver)(f),defaultValues:a||{companyName:"",siret:"",address:"",email:"",logoUrl:"",legalMentions:""}}),n=async a=>{q.toast.promise(k.mutateAsync(a),{loading:"Enregistrement...",success:"Paramètres enregistrés avec succès !",error:a=>"Erreur: "+a.message})};return(0,b.jsxs)(j.Card,{className:"w-full max-w-2xl mx-auto",children:[(0,b.jsx)(j.CardHeader,{children:(0,b.jsx)(j.CardTitle,{children:"Paramètres de l'entreprise"})}),(0,b.jsx)(j.CardContent,{children:(0,b.jsx)(h.Form,{...l,children:(0,b.jsxs)("form",{onSubmit:l.handleSubmit(n),className:"space-y-6",children:[(0,b.jsx)(h.FormField,{control:l.control,name:"companyName",render:({field:a})=>(0,b.jsxs)(h.FormItem,{children:[(0,b.jsx)(h.FormLabel,{children:"Nom de l'entreprise"}),(0,b.jsx)(h.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"Ma Micro-Entreprise",...a,value:a.value||""})}),(0,b.jsx)(h.FormMessage,{})]})}),(0,b.jsx)(h.FormField,{control:l.control,name:"siret",render:({field:a})=>(0,b.jsxs)(h.FormItem,{children:[(0,b.jsx)(h.FormLabel,{children:"SIRET"}),(0,b.jsx)(h.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"123 456 789 00012",...a,value:a.value||""})}),(0,b.jsx)(h.FormDescription,{children:"Numéro SIRET à 14 chiffres"}),(0,b.jsx)(h.FormMessage,{})]})}),(0,b.jsx)(h.FormField,{control:l.control,name:"address",render:({field:a})=>(0,b.jsxs)(h.FormItem,{children:[(0,b.jsx)(h.FormLabel,{children:"Adresse"}),(0,b.jsx)(h.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"123 Rue de la République, 75001 Paris",...a,value:a.value||""})}),(0,b.jsx)(h.FormMessage,{})]})}),(0,b.jsx)(h.FormField,{control:l.control,name:"email",render:({field:a})=>(0,b.jsxs)(h.FormItem,{children:[(0,b.jsx)(h.FormLabel,{children:"Email"}),(0,b.jsx)(h.FormControl,{children:(0,b.jsx)(i.Input,{type:"email",placeholder:"contact@entreprise.fr",...a,value:a.value||""})}),(0,b.jsx)(h.FormMessage,{})]})}),(0,b.jsx)(h.FormField,{control:l.control,name:"logoUrl",render:({field:a})=>(0,b.jsxs)(h.FormItem,{children:[(0,b.jsx)(h.FormLabel,{children:"URL du Logo"}),(0,b.jsx)(h.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"https://...",...a,value:a.value||""})}),(0,b.jsx)(h.FormDescription,{children:"URL publique de votre logo"}),(0,b.jsx)(h.FormMessage,{})]})}),(0,b.jsx)(h.FormField,{control:l.control,name:"legalMentions",render:({field:a})=>(0,b.jsxs)(h.FormItem,{children:[(0,b.jsx)(h.FormLabel,{children:"Mentions légales"}),(0,b.jsx)(h.FormControl,{children:(0,b.jsx)(i.Input,{placeholder:"Mentions légales par défaut",...a,value:a.value||""})}),(0,b.jsx)(h.FormMessage,{})]})}),(0,b.jsx)(g.Button,{type:"submit",disabled:k.isPending,className:"w-full",children:k.isPending?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Enregistrement..."]}):"Enregistrer"})]})})})]})}function t(){let{data:a,isLoading:c,error:d}=(0,n.useQuery)({queryKey:["settings"],queryFn:l});return c?(0,b.jsx)("div",{children:"Chargement..."}):d?(0,b.jsx)("div",{children:"Erreur lors du chargement des paramètres"}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsx)("h1",{className:"text-lg font-semibold md:text-2xl",children:"Paramètres"})}),(0,b.jsx)(s,{initialData:a})]})}a.s(["default",()=>t],42294)}];

//# sourceMappingURL=Documents_Code_solopreneur-tool_bd78fc79._.js.map