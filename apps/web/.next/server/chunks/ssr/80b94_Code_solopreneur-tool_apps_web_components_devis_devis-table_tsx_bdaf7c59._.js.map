{"version":3,"sources":["../../../../../../../../../Documents/Code/solopreneur-tool/apps/web/lib/validators/devis.ts","../../../../../../../../../Documents/Code/solopreneur-tool/apps/web/components/devis/devis-form.tsx","../../../../../../../../../Documents/Code/solopreneur-tool/apps/web/components/devis/devis-dialog.tsx","../../../../../../../../../Documents/Code/solopreneur-tool/apps/web/components/devis/devis-table.tsx","../../../../../../../../../Documents/Code/solopreneur-tool/node_modules/lucide-react/src/icons/credit-card.ts"],"sourcesContent":["import { z } from 'zod';\n\nexport const devisItemSchema = z.object({\n    id: z.string().optional(),\n    description: z.string().min(1, 'La description est requise'),\n    quantity: z.number().min(0.01, 'La quantité doit être positive'),\n    price: z.number().min(0, 'Le prix doit être positif'),\n});\n\nexport const devisSchema = z.object({\n    clientId: z.string().min(1, 'Le client est requis'),\n    date: z.string().refine((val) => !isNaN(Date.parse(val)), 'Date invalide'),\n    validUntil: z.string().optional().nullable(),\n    status: z.enum(['draft', 'sent', 'accepted', 'rejected']).default('draft').nonoptional(),\n    items: z.array(devisItemSchema).min(1, 'Au moins un article est requis'),\n});\n\nexport type DevisItemSchema = z.infer<typeof devisItemSchema>;\nexport type DevisSchema = z.infer<typeof devisSchema>;\n","'use client';\n\nimport { useForm, useFieldArray } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { devisSchema, type DevisSchema } from '@/lib/validators/devis';\nimport { Button } from '@/components/ui/button';\nimport {\n    Form,\n    FormControl,\n    FormField,\n    FormItem,\n    FormLabel,\n    FormMessage,\n} from '@/components/ui/form';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { CardContent, CardFooter } from '@/components/ui/card';\nimport { useCreateDevis, useUpdateDevis } from '@/hooks/use-devis';\nimport { useClients } from '@/hooks/use-clients';\nimport { Trash2, Plus, Loader2 } from 'lucide-react';\nimport { toast } from 'sonner';\nimport { useEffect } from 'react';\nimport { DevisWithItems } from '@/lib/use-cases/devis';\nimport { DialogContent, DialogHeader, DialogTitle } from '../ui/dialog';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../ui/select';\nimport { DatePicker } from '../ui/date-picker';\n\ninterface DevisFormProps {\n    open: boolean;\n    onOpenChange: (open: boolean) => void;\n    devisId?: string;\n    initialData?: DevisWithItems\n}\n\nexport function DevisForm({ open, onOpenChange, devisId, initialData }: DevisFormProps) {\n    const createMutation = useCreateDevis();\n    const updateMutation = useUpdateDevis(devisId || '');\n\n    const { data: clients } = useClients()\n\n    const initalFormData = initialData\n        ? {\n            clientId: initialData.clientId ?? clients?.[0].id,\n            date: initialData.date ?? \"\",\n            validUntil: initialData.validUntil ?? \"\",\n            status: initialData.status as 'draft' | 'sent' | 'accepted' | 'rejected',\n            items: (Array.isArray(initialData.items) ? initialData.items : [initialData.items]).map(item => ({\n                ...item,\n                quantity: Number(item.quantity),\n                price: Number(item.price),\n            }))\n        }\n        : undefined;\n\n    const form = useForm<DevisSchema>({\n        resolver: zodResolver(devisSchema),\n        defaultValues: initalFormData || {\n            clientId: clients?.[0].id,\n            date: new Date().toISOString().split(\"T\")[0],\n            validUntil: \"\",\n            status: 'draft' as 'draft' | 'sent' | 'accepted' | 'rejected',\n            items: [\n                {\n                    description: \"\",\n                    quantity: 1,\n                    price: 1,\n                }\n            ],\n        },\n    });\n\n    const { fields, append, remove } = useFieldArray({\n        control: form.control,\n        name: 'items',\n    });\n\n    useEffect(() => {\n        form.reset(initalFormData || {\n            clientId: clients?.[0].id,\n            date: new Date().toISOString().split(\"T\")[0],\n            validUntil: \"\",\n            status: 'draft' as 'draft' | 'sent' | 'accepted' | 'rejected',\n            items: [\n                {\n                    description: \"\",\n                    quantity: 1,\n                    price: 1,\n                }\n            ],\n        },);\n    }, [initialData, form]);\n\n\n    const onSubmit = async (data: DevisSchema) => {\n        const mutation = devisId ? updateMutation : createMutation;\n\n        toast.promise(\n            mutation.mutateAsync(data).then(() => {\n                onOpenChange(false);\n                form.reset();\n            }),\n            {\n                loading: devisId ? 'Mise à jour...' : 'Création...',\n                success: devisId ? 'Devis mis à jour !' : 'Devis créé !',\n                error: (error) => 'Erreur: ' + error.message,\n            }\n        );\n    };\n\n    const isPending = createMutation.isPending || updateMutation.isPending;\n\n    // Calculate Total\n    const items = form.watch('items') || [\n        {\n            description: \"\",\n            quantity: 1,\n            price: 1,\n        }\n    ];\n    const total = items.reduce((acc, item) => {\n        return acc + (Number(item.quantity) || 0) * (Number(item.price) || 0);\n    }, 0);\n\n    return (\n        <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\n            <DialogHeader>\n                <DialogTitle>{devisId ? 'Modifier le devis' : 'Nouveau devis'}</DialogTitle>\n            </DialogHeader>\n            <Form {...form}>\n                <form onSubmit={form.handleSubmit(onSubmit)}>\n                    <CardContent className='p-0'>\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            <FormField\n                                control={form.control}\n                                name=\"clientId\"\n                                render={({ field }) => (\n                                    <FormItem>\n                                        <FormLabel>Client *</FormLabel>\n                                        <FormControl>\n                                            <Select onValueChange={(value) => field.onChange(value)} value={field.value}>\n                                                <SelectTrigger className='w-full'>\n                                                    <SelectValue\n                                                        placeholder={\n                                                            clients?.length === 1\n                                                                ? clients?.[0].name\n                                                                : clients?.find(\n                                                                    (client) => client.id.toString() === field.value\n                                                                )?.name || 'Select a client' || clients?.length === 0 && 'No clients'\n                                                        }\n                                                    />\n                                                </SelectTrigger>\n                                                <SelectContent>\n                                                    {clients?.map((client) => (\n                                                        <SelectItem key={client.id} value={client.id}>\n                                                            {client.name}\n                                                        </SelectItem>\n                                                    ))}\n                                                </SelectContent>\n                                            </Select>\n                                        </FormControl>\n                                        <FormMessage />\n                                    </FormItem>\n                                )}\n                            />\n\n                            <FormField\n                                control={form.control}\n                                name=\"date\"\n                                render={({ field }) => (\n                                    <FormItem>\n                                        <FormLabel>Date *</FormLabel>\n                                        <FormControl>\n                                            <DatePicker\n                                                value={field.value ?? \"\"}\n                                                onChange={(value) => field.onChange(value || \"\")}\n                                                placeholder={field.value ?? \"\"}\n                                            />\n                                        </FormControl>\n                                        <FormMessage />\n                                    </FormItem>\n                                )}\n                            />\n\n                            <FormField\n                                control={form.control}\n                                name=\"validUntil\"\n                                render={({ field }) => (\n                                    <FormItem>\n                                        <FormLabel>Validité (optionnel)</FormLabel>\n                                        <FormControl>\n                                            <DatePicker\n                                                value={field.value ?? \"\"}\n                                                onChange={(value) => field.onChange(value || \"\")}\n                                                placeholder=\"Sélectionner la date d'échéance\"\n                                            />\n                                        </FormControl>\n                                        <FormMessage />\n                                    </FormItem>\n                                )}\n                            />\n\n                            <FormField\n                                control={form.control}\n                                name=\"status\"\n                                render={({ field }) => (\n                                    <FormItem >\n                                        <FormLabel>Statut</FormLabel>\n                                        <FormControl>\n                                            <Select onValueChange={(value) => field.onChange(value)} value={field.value}>\n                                                <SelectTrigger className='w-full'>\n                                                    <SelectValue placeholder=\"Select a status\" />\n                                                </SelectTrigger>\n                                                <SelectContent>\n                                                    <SelectItem value=\"draft\">Brouillon</SelectItem>\n                                                    <SelectItem value=\"sent\">Envoyé</SelectItem>\n                                                    <SelectItem value=\"accepted\">Accepté</SelectItem>\n                                                    <SelectItem value=\"rejected\">Refusé</SelectItem>\n                                                </SelectContent>\n                                            </Select>\n                                        </FormControl>\n                                        <FormMessage />\n                                    </FormItem>\n                                )}\n                            />\n                        </div>\n\n                        <div className=\"space-y-4\">\n                            <div className=\"flex items-center justify-between border-b pb-2\">\n                                <h3 className=\"text-lg font-medium\">Articles</h3>\n                                <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={() => append({ description: '', quantity: 1, price: 0 })}>\n                                    <Plus className=\"mr-2 h-4 w-4\" /> Ajouter un article\n                                </Button>\n                            </div>\n\n                            {fields.map((field, index) => (\n                                <div key={field.id} className=\"grid grid-cols-12 gap-2 items-end\">\n                                    <div className=\"col-span-6 space-y-1\">\n                                        <Label className=\"text-xs\">Description</Label>\n                                        <Input {...form.register(`items.${index}.description`)} placeholder=\"Description de l'article\" />\n                                        {form.formState.errors.items?.[index]?.description && (\n                                            <p className=\"text-xs text-destructive\">{form.formState.errors.items[index]?.description?.message}</p>\n                                        )}\n                                    </div>\n                                    <div className=\"col-span-2 space-y-1\">\n                                        <Label className=\"text-xs\">Qté</Label>\n                                        <Input type=\"number\" step=\"0.1\" {...form.register(`items.${index}.quantity`)} />\n                                    </div>\n                                    <div className=\"col-span-3 space-y-1\">\n                                        <Label className=\"text-xs\">Prix Unit.</Label>\n                                        <Input type=\"number\" step=\"0.01\" {...form.register(`items.${index}.price`)} />\n                                    </div>\n                                    <div className=\"col-span-1\">\n                                        <Button type=\"button\" variant=\"ghost\" size=\"icon\" className=\"text-destructive\" onClick={() => remove(index)}>\n                                            <Trash2 className=\"h-4 w-4\" />\n                                        </Button>\n                                    </div>\n                                </div>\n                            ))}\n                            {form.formState.errors.items && (\n                                <p className=\"text-sm text-destructive\">{form.formState.errors.items.message}</p>\n                            )}\n                        </div>\n\n                        <div className=\"flex justify-end pt-4 \">\n                            <div className=\"text-right\">\n                                <span className=\"text-muted-foreground mr-4\">Total:</span>\n                                <span className=\"text-2xl font-bold\">{total.toLocaleString('fr-FR', { style: 'currency', currency: 'EUR' })}</span>\n                            </div>\n                        </div>\n                    </CardContent>\n                    <CardFooter className=\"flex justify-end gap-2\">\n                        <Button type=\"submit\" disabled={isPending}>\n                            {isPending ? (\n                                <>\n                                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                                    Enregistrement...\n                                </>\n                            ) : (\n                                'Enregistrer'\n                            )}\n                        </Button>\n                    </CardFooter>\n                </form>\n            </Form>\n        </DialogContent>\n    );\n}\n","'use client';\n\nimport { Dialog } from '@/components/ui/dialog';\nimport { DevisForm } from './devis-form';\nimport { DevisWithItems } from '@/lib/use-cases/devis';\n\ninterface DevisDialogProps {\n    open: boolean;\n    onOpenChange: (open: boolean) => void;\n    devisId?: string;\n    initialData?: DevisWithItems\n}\n\nexport function DevisDialog({ open, onOpenChange, devisId, initialData }: DevisDialogProps) {\n\n    return (\n        <Dialog open={open} onOpenChange={onOpenChange}>\n            <DevisForm\n                open={open}\n                onOpenChange={onOpenChange}\n                devisId={devisId}\n                initialData={initialData}\n            />\n        </Dialog>\n    );\n}\n","'use client';\n\nimport { useState } from 'react';\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableHeader,\n    TableRow,\n} from '@/components/ui/table';\nimport { Button } from '@/components/ui/button';\nimport { Edit, Plus, FileIcon, CreditCard } from 'lucide-react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { useDevisList, useDeleteDevis } from '@/hooks/use-devis';\nimport { DevisDialog } from './devis-dialog';\nimport { format } from 'date-fns';\nimport { Devis, DevisWithItems } from '@/lib/use-cases/devis';\nimport { toast } from 'sonner';\nimport { DeleteDialiog } from '../delete-dialog';\n\n\nexport function DevisTable() {\n    const { data: devisList, isLoading, error } = useDevisList();\n    const deleteMutation = useDeleteDevis();\n    const [dialogOpen, setDialogOpen] = useState(false);\n    const [selectedDevis, setSelectedDevis] = useState<DevisWithItems | null>(null);\n\n    const displayData = devisList || [];\n\n    if (isLoading) return <div>Chargement...</div>;\n    if (error) return <div>Erreur lors du chargement des devis</div>;\n\n    const handleEdit = (devis: DevisWithItems) => {\n        setSelectedDevis(devis);\n        setDialogOpen(true);\n    };\n\n    const handleCreate = () => {\n        setSelectedDevis(null);\n        setDialogOpen(true);\n    };\n\n    const handleDelete = async (id: string) => {\n        toast.promise(deleteMutation.mutateAsync(id), {\n            loading: `Suppression du devis...`,\n            success: \"Devis supprimé\",\n            error: (error: Error) => 'Erreur de suppression du devis : ' + error.message,\n        }\n        )\n    };\n\n    const getStatusColor = (status: string) => {\n        switch (status) {\n            case 'draft': return 'bg-gray-100 text-gray-800';\n            case 'sent': return 'bg-blue-100 text-blue-800';\n            case 'accepted': return 'bg-green-100 text-green-800';\n            case 'rejected': return 'bg-red-100 text-red-800';\n            default: return 'bg-gray-100 text-gray-800';\n        }\n    };\n\n    const getStatusLabel = (status: string) => {\n        switch (status) {\n            case 'draft': return 'Brouillon';\n            case 'sent': return 'Envoyé';\n            case 'accepted': return 'Accepté';\n            case 'rejected': return 'Refusé';\n            default: return status;\n        }\n    };\n\n    return (\n        <>\n            <Card>\n                <CardHeader className=\"flex flex-row items-center justify-between\">\n                    <CardTitle className='px-4'><CreditCard /></CardTitle>\n                    <Button onClick={handleCreate}>\n                        <Plus className=\"mr-2 h-4 w-4\" /> Nouveau Devis\n                    </Button>\n                </CardHeader>\n                <CardContent>\n                    <Table>\n                        <TableHeader>\n                            <TableRow>\n                                <TableHead>Numéro</TableHead>\n                                <TableHead>Client</TableHead>\n                                <TableHead>Date</TableHead>\n                                <TableHead>Total</TableHead>\n                                <TableHead>Statut</TableHead>\n                                <TableHead className=\"text-right\">Actions</TableHead>\n                            </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                            {displayData.map((devis, index) => (\n                                <TableRow key={index}>\n                                    <TableCell className=\"font-medium\">{devis.number}</TableCell>\n                                    <TableCell>{devis.clientName}</TableCell>\n                                    <TableCell>{format(new Date(devis.date), 'dd/MM/yyyy')}</TableCell>\n                                    <TableCell>{Number(devis.total).toLocaleString('fr-FR', { style: 'currency', currency: 'EUR' })}</TableCell>\n                                    <TableCell>\n                                        <span className={`px-2 py-1 rounded-full text-xs font-semibold ${getStatusColor(devis.status)}`}>\n                                            {getStatusLabel(devis.status)}\n                                        </span>\n                                    </TableCell>\n                                    <TableCell className=\"text-right\">\n                                        <div className=\"flex justify-end gap-2\">\n                                            <Button variant=\"ghost\" size=\"icon\" onClick={() => handleEdit(devis)}>\n                                                <Edit className=\"h-4 w-4\" />\n                                            </Button>\n                                            <DeleteDialiog handleDelete={handleDelete} id={devis.id} ressource='devis' />\n                                        </div>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                            {displayData.length === 0 && (\n                                <TableRow>\n                                    <TableCell colSpan={6} className=\"text-center text-muted-foreground\">\n                                        Aucun devis trouvé.\n                                    </TableCell>\n                                </TableRow>\n                            )}\n                        </TableBody>\n                    </Table>\n                </CardContent>\n            </Card>\n            <DevisDialog\n                open={dialogOpen}\n                onOpenChange={setDialogOpen}\n                devisId={selectedDevis?.id}\n                initialData={selectedDevis || undefined}\n            />\n        </>\n    );\n}\n\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '20', height: '14', x: '2', y: '5', rx: '2', key: 'ynyp8z' }],\n  ['line', { x1: '2', x2: '22', y1: '10', y2: '10', key: '1b3vmo' }],\n];\n\n/**\n * @component @name CreditCard\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iMTQiIHg9IjIiIHk9IjUiIHJ4PSIyIiAvPgogIDxsaW5lIHgxPSIyIiB4Mj0iMjIiIHkxPSIxMCIgeTI9IjEwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/credit-card\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CreditCard = createLucideIcon('credit-card', __iconNode);\n\nexport default CreditCard;\n"],"names":[],"mappings":"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","ignoreList":[4]}