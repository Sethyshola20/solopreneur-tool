module.exports=[84018,49370,a=>{"use strict";let b,c;var d=a.i(30271),e=a.i(3689),f=a.i(77306),g=a.i(96837),h=a.i(99429),i=a.i(8343),j=a.i(7761),k=a.i(33941),l=a.i(37072),m=a.i(30968),n=a.i(91346),o="rovingFocusGroup.onEntryFocus",p={bubbles:!1,cancelable:!0},q="RovingFocusGroup",[r,s,t]=(0,f.createCollection)(q),[u,v]=(0,h.createContextScope)(q,[t]),[w,x]=u(q),y=d.forwardRef((a,b)=>(0,n.jsx)(r.Provider,{scope:a.__scopeRovingFocusGroup,children:(0,n.jsx)(r.Slot,{scope:a.__scopeRovingFocusGroup,children:(0,n.jsx)(z,{...a,ref:b})})}));y.displayName=q;var z=d.forwardRef((a,b)=>{let{__scopeRovingFocusGroup:c,orientation:f,loop:h=!1,dir:i,currentTabStopId:r,defaultCurrentTabStopId:t,onCurrentTabStopIdChange:u,onEntryFocus:v,preventScrollOnEntryFocus:x=!1,...y}=a,z=d.useRef(null),A=(0,g.useComposedRefs)(b,z),B=(0,m.useDirection)(i),[C,E]=(0,l.useControllableState)({prop:r,defaultProp:t??null,onChange:u,caller:q}),[F,G]=d.useState(!1),H=(0,k.useCallbackRef)(v),I=s(c),J=d.useRef(!1),[K,L]=d.useState(0);return d.useEffect(()=>{let a=z.current;if(a)return a.addEventListener(o,H),()=>a.removeEventListener(o,H)},[H]),(0,n.jsx)(w,{scope:c,orientation:f,dir:B,loop:h,currentTabStopId:C,onItemFocus:d.useCallback(a=>E(a),[E]),onItemShiftTab:d.useCallback(()=>G(!0),[]),onFocusableItemAdd:d.useCallback(()=>L(a=>a+1),[]),onFocusableItemRemove:d.useCallback(()=>L(a=>a-1),[]),children:(0,n.jsx)(j.Primitive.div,{tabIndex:F||0===K?-1:0,"data-orientation":f,...y,ref:A,style:{outline:"none",...a.style},onMouseDown:(0,e.composeEventHandlers)(a.onMouseDown,()=>{J.current=!0}),onFocus:(0,e.composeEventHandlers)(a.onFocus,a=>{let b=!J.current;if(a.target===a.currentTarget&&b&&!F){let b=new CustomEvent(o,p);if(a.currentTarget.dispatchEvent(b),!b.defaultPrevented){let a=I().filter(a=>a.focusable);D([a.find(a=>a.active),a.find(a=>a.id===C),...a].filter(Boolean).map(a=>a.ref.current),x)}}J.current=!1}),onBlur:(0,e.composeEventHandlers)(a.onBlur,()=>G(!1))})})}),A="RovingFocusGroupItem",B=d.forwardRef((a,b)=>{let{__scopeRovingFocusGroup:c,focusable:f=!0,active:g=!1,tabStopId:h,children:k,...l}=a,m=(0,i.useId)(),o=h||m,p=x(A,c),q=p.currentTabStopId===o,t=s(c),{onFocusableItemAdd:u,onFocusableItemRemove:v,currentTabStopId:w}=p;return d.useEffect(()=>{if(f)return u(),()=>v()},[f,u,v]),(0,n.jsx)(r.ItemSlot,{scope:c,id:o,focusable:f,active:g,children:(0,n.jsx)(j.Primitive.span,{tabIndex:q?0:-1,"data-orientation":p.orientation,...l,ref:b,onMouseDown:(0,e.composeEventHandlers)(a.onMouseDown,a=>{f?p.onItemFocus(o):a.preventDefault()}),onFocus:(0,e.composeEventHandlers)(a.onFocus,()=>p.onItemFocus(o)),onKeyDown:(0,e.composeEventHandlers)(a.onKeyDown,a=>{if("Tab"===a.key&&a.shiftKey)return void p.onItemShiftTab();if(a.target!==a.currentTarget)return;let b=function(a,b,c){var d;let e=(d=a.key,"rtl"!==c?d:"ArrowLeft"===d?"ArrowRight":"ArrowRight"===d?"ArrowLeft":d);if(!("vertical"===b&&["ArrowLeft","ArrowRight"].includes(e))&&!("horizontal"===b&&["ArrowUp","ArrowDown"].includes(e)))return C[e]}(a,p.orientation,p.dir);if(void 0!==b){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;a.preventDefault();let e=t().filter(a=>a.focusable).map(a=>a.ref.current);if("last"===b)e.reverse();else if("prev"===b||"next"===b){var c,d;"prev"===b&&e.reverse();let f=e.indexOf(a.currentTarget);e=p.loop?(c=e,d=f+1,c.map((a,b)=>c[(d+b)%c.length])):e.slice(f+1)}setTimeout(()=>D(e))}}),children:"function"==typeof k?k({isCurrentTabStop:q,hasTabStop:null!=w}):k})})});B.displayName=A;var C={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D(a,b=!1){let c=document.activeElement;for(let d of a)if(d===c||(d.focus({preventScroll:b}),document.activeElement!==c))return}a.s(["Item",()=>B,"Root",()=>y,"createRovingFocusGroupScope",()=>v],84018);var E=a.i(77486);a.i(45245);var F=a.i(77566);let G=Object.create(null),H=a=>globalThis.process?.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(a?G:globalThis),I=new Proxy(G,{get:(a,b)=>H()[b]??G[b],has:(a,b)=>b in H()||b in G,set:(a,b,c)=>(H(!0)[b]=c,!0),deleteProperty(a,b){if(!b)return!1;let c=H(!0);return delete c[b],!0},ownKeys:()=>Object.keys(H(!0))});function J(a,b){return"undefined"!=typeof process&&process.env?process.env[a]??b:"undefined"!=typeof Deno?Deno.env.get(a)??b:"undefined"!=typeof Bun?Bun.env[a]??b:b}"undefined"!=typeof process&&process.env,Object.freeze({get BETTER_AUTH_SECRET(){return J("BETTER_AUTH_SECRET")},get AUTH_SECRET(){return J("AUTH_SECRET")},get BETTER_AUTH_TELEMETRY(){return J("BETTER_AUTH_TELEMETRY")},get BETTER_AUTH_TELEMETRY_ID(){return J("BETTER_AUTH_TELEMETRY_ID")},get NODE_ENV(){return J("NODE_ENV","development")},get PACKAGE_VERSION(){return J("PACKAGE_VERSION","0.0.0")},get BETTER_AUTH_TELEMETRY_ENDPOINT(){return J("BETTER_AUTH_TELEMETRY_ENDPOINT","https://telemetry.better-auth.com/v1/track")}});let K={eterm:4,cons25:4,console:4,cygwin:4,dtterm:4,gnome:4,hurd:4,jfbterm:4,konsole:4,kterm:4,mlterm:4,mosh:24,putty:4,st:4,"rxvt-unicode-24bit":24,terminator:24,"xterm-kitty":24},L=new Map(Object.entries({APPVEYOR:8,BUILDKITE:8,CIRCLECI:24,DRONE:8,GITEA_ACTIONS:24,GITHUB_ACTIONS:24,GITLAB_CI:8,TRAVIS:8})),M=[/ansi/,/color/,/linux/,/direct/,/^con[0-9]*x[0-9]/,/^rxvt/,/^screen/,/^xterm/,/^vt100/,/^vt220/],N="\x1b[0m",O="\x1b[31m",P="\x1b[32m",Q="\x1b[33m",R="\x1b[34m",S="\x1b[35m",T=["debug","info","success","warn","error"],U={info:R,success:P,warn:Q,error:O,debug:S};b=(void 0)??"error",c=1!==function(){if(void 0!==J("FORCE_COLOR"))switch(J("FORCE_COLOR")){case"":case"1":case"true":return 4;case"2":return 8;case"3":return 24;default:return 1}if(void 0!==J("NODE_DISABLE_COLORS")&&""!==J("NODE_DISABLE_COLORS")||void 0!==J("NO_COLOR")&&""!==J("NO_COLOR")||"dumb"===J("TERM"))return 1;if(J("TMUX"))return 24;if("TF_BUILD"in I&&"AGENT_NAME"in I)return 4;if("CI"in I){for(let{0:a,1:b}of L)if(a in I)return b;return"codeship"===J("CI_NAME")?8:1}if("TEAMCITY_VERSION"in I)return null!==/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.exec(J("TEAMCITY_VERSION"))?4:1;switch(J("TERM_PROGRAM")){case"iTerm.app":if(!J("TERM_PROGRAM_VERSION")||null!==/^[0-2]\./.exec(J("TERM_PROGRAM_VERSION")))return 8;return 24;case"HyperTerm":case"MacTerm":return 24;case"Apple_Terminal":return 8}if("truecolor"===J("COLORTERM")||"24bit"===J("COLORTERM"))return 24;if(J("TERM")){if(null!==/truecolor/.exec(J("TERM")))return 24;if(null!==/^xterm-256/.exec(J("TERM")))return 8;let a=J("TERM").toLowerCase();if(K[a])return K[a];if(M.some(b=>null!==b.exec(a)))return 4}return J("COLORTERM")?4:1}(),Object.fromEntries(T.map(a=>[a,(...[d,...e])=>((a,d,e=[])=>{let f;if(!(T.indexOf(a)>=T.indexOf(b)))return;let g=(f=new Date().toISOString(),c?`\x1b[2m${f}${N} ${U[a]}${a.toUpperCase()}${N} \x1b[1m[Better Auth]:${N} ${d}`:`${f} ${a.toUpperCase()} [Better Auth]: ${d}`);"error"===a?console.error(g,...e):"warn"===a?console.warn(g,...e):console.log(g,...e)})(a,d,e)]));var V=class extends Error{constructor(a,b){super(a),this.name="BetterAuthError",this.message=a,this.cause=b,this.stack=""}};function W(a,b="/api/auth"){try{let b=new URL(a);if("http:"!==b.protocol&&"https:"!==b.protocol)throw new V(`Invalid base URL: ${a}. URL must include 'http://' or 'https://'`)}catch(b){if(b instanceof V)throw b;throw new V(`Invalid base URL: ${a}. Please provide a valid base URL.`,String(b))}if(function(a){try{return"/"!==(new URL(a).pathname.replace(/\/+$/,"")||"/")}catch(b){throw new V(`Invalid base URL: ${a}. Please provide a valid base URL.`)}}(a))return a;let c=a.replace(/\/+$/,"");return b&&"/"!==b?(b=b.startsWith("/")?b:`/${b}`,`${c}${b}`):c}let X={proto:/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,constructor:/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,protoShort:/"__proto__"\s*:/,constructorShort:/"constructor"\s*:/},Y=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/,Z={true:!0,false:!1,null:null,undefined:void 0,nan:NaN,infinity:1/0,"-infinity":-1/0},$=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,7}))?(?:Z|([+-])(\d{2}):(\d{2}))$/,_=[],aa=0,ab=0,ac=a=>{let b=[],c={get:()=>(c.lc||c.listen(()=>{})(),c.value),lc:0,listen:a=>(c.lc=b.push(a),()=>{for(let b=aa+4;b<_.length;)_[b]===a?_.splice(b,4):b+=4;let d=b.indexOf(a);~d&&(b.splice(d,1),--c.lc||c.off())}),notify(a,d){ab++;let e=!_.length;for(let e of b)_.push(e,c.value,a,d);if(e){for(aa=0;aa<_.length;aa+=4)_[aa](_[aa+1],_[aa+2],_[aa+3]);_.length=0}},off(){},set(a){let b=c.value;b!==a&&(c.value=a,c.notify(b))},subscribe(a){let b=c.listen(a);return a(c.value),b},value:a};return c};var ad=Object.defineProperty,ae=Object.defineProperties,af=Object.getOwnPropertyDescriptors,ag=Object.getOwnPropertySymbols,ah=Object.prototype.hasOwnProperty,ai=Object.prototype.propertyIsEnumerable,aj=(a,b,c)=>b in a?ad(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c,ak=(a,b)=>{for(var c in b||(b={}))ah.call(b,c)&&aj(a,c,b[c]);if(ag)for(var c of ag(b))ai.call(b,c)&&aj(a,c,b[c]);return a},al=(a,b)=>ae(a,af(b)),am=class extends Error{constructor(a,b,c){super(b||a.toString(),{cause:c}),this.status=a,this.statusText=b,this.error=c}},an=async(a,b)=>{var c,d,e,f,g,h;let i=b||{},j={onRequest:[null==b?void 0:b.onRequest],onResponse:[null==b?void 0:b.onResponse],onSuccess:[null==b?void 0:b.onSuccess],onError:[null==b?void 0:b.onError],onRetry:[null==b?void 0:b.onRetry]};if(!b||!(null==b?void 0:b.plugins))return{url:a,options:i,hooks:j};for(let k of(null==b?void 0:b.plugins)||[]){if(k.init){let d=await (null==(c=k.init)?void 0:c.call(k,a.toString(),b));i=d.options||i,a=d.url}j.onRequest.push(null==(d=k.hooks)?void 0:d.onRequest),j.onResponse.push(null==(e=k.hooks)?void 0:e.onResponse),j.onSuccess.push(null==(f=k.hooks)?void 0:f.onSuccess),j.onError.push(null==(g=k.hooks)?void 0:g.onError),j.onRetry.push(null==(h=k.hooks)?void 0:h.onRetry)}return{url:a,options:i,hooks:j}},ao=class{constructor(a){this.options=a}shouldAttemptRetry(a,b){return this.options.shouldRetry?Promise.resolve(a<this.options.attempts&&this.options.shouldRetry(b)):Promise.resolve(a<this.options.attempts)}getDelay(){return this.options.delay}},ap=class{constructor(a){this.options=a}shouldAttemptRetry(a,b){return this.options.shouldRetry?Promise.resolve(a<this.options.attempts&&this.options.shouldRetry(b)):Promise.resolve(a<this.options.attempts)}getDelay(a){return Math.min(this.options.maxDelay,this.options.baseDelay*2**a)}},aq=async a=>{let b={},c=async a=>"function"==typeof a?await a():a;if(null==a?void 0:a.auth){if("Bearer"===a.auth.type){let d=await c(a.auth.token);if(!d)return b;b.authorization=`Bearer ${d}`}else if("Basic"===a.auth.type){let d=c(a.auth.username),e=c(a.auth.password);if(!d||!e)return b;b.authorization=`Basic ${btoa(`${d}:${e}`)}`}else if("Custom"===a.auth.type){let d=c(a.auth.value);if(!d)return b;b.authorization=`${c(a.auth.prefix)} ${d}`}}return b},ar=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function as(a){if(void 0===a)return!1;let b=typeof a;return"string"===b||"number"===b||"boolean"===b||null===b||"object"===b&&(!!Array.isArray(a)||!a.buffer&&(a.constructor&&"Object"===a.constructor.name||"function"==typeof a.toJSON))}function at(a){try{return JSON.parse(a)}catch(b){return a}}async function au(a){let b=new Headers(null==a?void 0:a.headers);for(let[c,d]of Object.entries(await aq(a)||{}))b.set(c,d);if(!b.has("content-type")){let c=as(null==a?void 0:a.body)?"application/json":null;c&&b.set("content-type",c)}return b}var av=class a extends Error{constructor(b,c){super(c||JSON.stringify(b,null,2)),this.issues=b,Object.setPrototypeOf(this,a.prototype)}};async function aw(a,b){let c=await a["~standard"].validate(b);if(c.issues)throw new av(c.issues);return c.value}var ax=["get","post","put","patch","delete"],ay=async(a,b)=>{var c,d,e,f,g,h,i,j;let k,{hooks:l,url:m,options:n}=await an(a,b),o=function(a){if(null==a?void 0:a.customFetchImpl)return a.customFetchImpl;if("undefined"!=typeof globalThis&&"function"==typeof globalThis.fetch)return globalThis.fetch;throw Error("No fetch implementation found")}(n),p=new AbortController,q=null!=(c=n.signal)?c:p.signal,r=function(a,b){let{baseURL:c,params:d,query:e}=b||{query:{},params:{},baseURL:""},f=a.startsWith("http")?a.split("/").slice(0,3).join("/"):c||"";if(a.startsWith("@")){let b=a.toString().split("@")[1].split("/")[0];ax.includes(b)&&(a=a.replace(`@${b}/`,"/"))}f.endsWith("/")||(f+="/");let[g,h]=a.replace(f,"").split("?"),i=new URLSearchParams(h);for(let[a,b]of Object.entries(e||{}))null!=b&&i.set(a,String(b));if(d)if(Array.isArray(d))for(let[a,b]of g.split("/").filter(a=>a.startsWith(":")).entries()){let c=d[a];g=g.replace(b,c)}else for(let[a,b]of Object.entries(d))g=g.replace(`:${a}`,String(b));(g=g.split("/").map(encodeURIComponent).join("/")).startsWith("/")&&(g=g.slice(1));let j=i.toString();return(j=j.length>0?`?${j}`.replace(/\+/g,"%20"):"",f.startsWith("http"))?new URL(`${g}${j}`,f):`${f}${g}${j}`}(m,n),s=function(a){if(!(null==a?void 0:a.body))return null;let b=new Headers(null==a?void 0:a.headers);if(as(a.body)&&!b.has("content-type")){for(let[b,c]of Object.entries(null==a?void 0:a.body))c instanceof Date&&(a.body[b]=c.toISOString());return JSON.stringify(a.body)}return a.body}(n),t=await au(n),u=function(a,b){var c;if(null==b?void 0:b.method)return b.method.toUpperCase();if(a.startsWith("@")){let d=null==(c=a.split("@")[1])?void 0:c.split("/")[0];return ax.includes(d)?d.toUpperCase():(null==b?void 0:b.body)?"POST":"GET"}return(null==b?void 0:b.body)?"POST":"GET"}(m,n),v=al(ak({},n),{url:r,headers:t,body:s,method:u,signal:q});for(let a of l.onRequest)if(a){let b=await a(v);b instanceof Object&&(v=b)}("pipeTo"in v&&"function"==typeof v.pipeTo||"function"==typeof(null==(d=null==b?void 0:b.body)?void 0:d.pipe))&&!("duplex"in v)&&(v.duplex="half");let{clearTimeout:w}=(!(null==n?void 0:n.signal)&&(null==n?void 0:n.timeout)&&(k=setTimeout(()=>null==p?void 0:p.abort(),null==n?void 0:n.timeout)),{abortTimeout:k,clearTimeout:()=>{k&&clearTimeout(k)}}),x=await o(v.url,v);w();let y={response:x,request:v};for(let a of l.onResponse)if(a){let c=await a(al(ak({},y),{response:(null==(e=null==b?void 0:b.hookOptions)?void 0:e.cloneResponse)?x.clone():x}));c instanceof Response?x=c:c instanceof Object&&(x=c.response)}if(x.ok){if("HEAD"===v.method)return{data:"",error:null};let a=function(a){let b=a.headers.get("content-type"),c=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!b)return"json";let d=b.split(";").shift()||"";return ar.test(d)?"json":c.has(d)||d.startsWith("text/")?"text":"blob"}(x),c={data:"",response:x,request:v};if("json"===a||"text"===a){let a=await x.text(),b=null!=(f=v.jsonParser)?f:at;c.data=await b(a)}else c.data=await x[a]();for(let a of((null==v?void 0:v.output)&&v.output&&!v.disableValidation&&(c.data=await aw(v.output,c.data)),l.onSuccess))a&&await a(al(ak({},c),{response:(null==(g=null==b?void 0:b.hookOptions)?void 0:g.cloneResponse)?x.clone():x}));return(null==b?void 0:b.throw)?c.data:{data:c.data,error:null}}let z=null!=(h=null==b?void 0:b.jsonParser)?h:at,A=await x.text(),B=function(a){try{return JSON.parse(a),!0}catch(a){return!1}}(A),C=B?await z(A):null,D={response:x,responseText:A,request:v,error:al(ak({},C),{status:x.status,statusText:x.statusText})};for(let a of l.onError)a&&await a(al(ak({},D),{response:(null==(i=null==b?void 0:b.hookOptions)?void 0:i.cloneResponse)?x.clone():x}));if(null==b?void 0:b.retry){let c=function(a){if("number"==typeof a)return new ao({type:"linear",attempts:a,delay:1e3});switch(a.type){case"linear":return new ao(a);case"exponential":return new ap(a);default:throw Error("Invalid retry strategy")}}(b.retry),d=null!=(j=b.retryAttempt)?j:0;if(await c.shouldAttemptRetry(d,x)){for(let a of l.onRetry)a&&await a(y);let e=c.getDelay(d);return await new Promise(a=>setTimeout(a,e)),await ay(a,al(ak({},b),{retryAttempt:d+1}))}}if(null==b?void 0:b.throw)throw new am(x.status,x.statusText,B?C:A);return{data:null,error:al(ak({},C),{status:x.status,statusText:x.statusText})}};let az=Symbol.for("better-auth:broadcast-channel");var aA=class{listeners=new Set;name;constructor(a="better-auth.message"){this.name=a}subscribe(a){return this.listeners.add(a),()=>{this.listeners.delete(a)}}post(a){}setup(){return()=>{}}};function aB(a="better-auth.message"){return globalThis[az]||(globalThis[az]=new aA(a)),globalThis[az]}let aC=Symbol.for("better-auth:focus-manager");var aD=class{listeners=new Set;subscribe(a){return this.listeners.add(a),()=>{this.listeners.delete(a)}}setFocused(a){this.listeners.forEach(b=>b(a))}setup(){return()=>{}}};function aE(){return globalThis[aC]||(globalThis[aC]=new aD),globalThis[aC]}let aF=Symbol.for("better-auth:online-manager");var aG=class{listeners=new Set;isOnline="undefined"==typeof navigator||navigator.onLine;subscribe(a){return this.listeners.add(a),()=>{this.listeners.delete(a)}}setOnline(a){this.isOnline=a,this.listeners.forEach(b=>b(a))}setup(){return()=>{}}};function aH(){return globalThis[aF]||(globalThis[aF]=new aG),globalThis[aF]}let aI=()=>!0,aJ=()=>Math.floor(Date.now()/1e3),aK={id:"redirect",name:"Redirect",hooks:{onSuccess(a){a.data?.url&&a.data?.redirect}}},aL=function(a){var b,c;let{pluginPathMethods:e,pluginsActions:f,pluginsAtoms:g,$fetch:h,$store:i,atomListeners:j}=((a,b)=>{var c,d,e,f;let g,h,i="credentials"in Request.prototype,j=function(a,b,c,d,e){if(a)return W(a,b);if(!1!==d){let a=I.BETTER_AUTH_URL||I.NEXT_PUBLIC_BETTER_AUTH_URL||I.PUBLIC_BETTER_AUTH_URL||I.NUXT_PUBLIC_BETTER_AUTH_URL||I.NUXT_PUBLIC_AUTH_URL||("/"!==I.BASE_URL?I.BASE_URL:void 0);if(a)return W(a,b)}c?.headers.get("x-forwarded-host"),c?.headers.get("x-forwarded-proto");if(c){let a=function(a){try{let b=new URL(a);return"null"===b.origin?null:b.origin}catch(a){return null}}(c.url);if(!a)throw new V("Could not get origin from request. Please provide a valid base URL.");return W(a,b)}}(a?.baseURL,a?.basePath,void 0,void 0)??"/api/auth",k=a?.plugins?.flatMap(a=>a.fetchPlugins).filter(a=>void 0!==a)||[],l={id:"lifecycle-hooks",name:"lifecycle-hooks",hooks:{onSuccess:a?.fetchOptions?.onSuccess,onError:a?.fetchOptions?.onError,onRequest:a?.fetchOptions?.onRequest,onResponse:a?.fetchOptions?.onResponse}},{onSuccess:m,onError:n,onRequest:o,onResponse:p,...q}=a?.fetchOptions||{},r=(c={baseURL:j,...i?{credentials:"include"}:{},method:"GET",jsonParser:a=>a?function(a,b={strict:!0}){return function(a,b={}){let{strict:c=!1,warnings:d=!1,reviver:e,parseDates:f=!0}=b;if("string"!=typeof a)return a;let g=a.trim();if(g.length>0&&'"'===g[0]&&g.endsWith('"')&&!g.slice(1,-1).includes('"'))return g.slice(1,-1);let h=g.toLowerCase();if(h.length<=9&&h in Z)return Z[h];if(!Y.test(g)){if(c)throw SyntaxError("[better-json] Invalid JSON");return a}if(Object.entries(X).some(([a,b])=>{let c=b.test(g);return c&&d&&console.warn(`[better-json] Detected potential prototype pollution attempt using ${a} pattern`),c})&&c)throw Error("[better-json] Potential prototype pollution attempt detected");try{return JSON.parse(g,(a,b)=>{if("__proto__"===a||"constructor"===a&&b&&"object"==typeof b&&"prototype"in b){d&&console.warn(`[better-json] Dropping "${a}" key to prevent prototype pollution`);return}if(f&&"string"==typeof b){let a=function(a){let b=$.exec(a);if(!b)return null;let[,c,d,e,f,g,h,i,j,k,l]=b,m=new Date(Date.UTC(parseInt(c,10),parseInt(d,10)-1,parseInt(e,10),parseInt(f,10),parseInt(g,10),parseInt(h,10),i?parseInt(i.padEnd(3,"0"),10):0));if(j){let a=(60*parseInt(k,10)+parseInt(l,10))*("+"===j?-1:1);m.setUTCMinutes(m.getUTCMinutes()+a)}return m instanceof Date&&!isNaN(m.getTime())?m:null}(b);if(a)return a}return e?e(a,b):b})}catch(b){if(c)throw b;return a}}(a,b)}(a,{strict:!1}):null,customFetchImpl:fetch,...q,plugins:[l,...q.plugins||[],...a?.disableDefaultFetchPlugins?[]:[aK],...k]},async function(a,b){let d,e=al(ak(ak({},c),b),{plugins:[...(null==c?void 0:c.plugins)||[],(d=c||{},{id:"apply-schema",name:"Apply Schema",version:"1.0.0",async init(a,b){var c,e,f,g;let h=(null==(e=null==(c=d.plugins)?void 0:c.find(b=>{var c;return null!=(c=b.schema)&&!!c.config&&(a.startsWith(b.schema.config.baseURL||"")||a.startsWith(b.schema.config.prefix||""))}))?void 0:e.schema)||d.schema;if(h){let c=a;(null==(f=h.config)?void 0:f.prefix)&&c.startsWith(h.config.prefix)&&(c=c.replace(h.config.prefix,""),h.config.baseURL&&(a=a.replace(h.config.prefix,h.config.baseURL))),(null==(g=h.config)?void 0:g.baseURL)&&c.startsWith(h.config.baseURL)&&(c=c.replace(h.config.baseURL,""));let d=h.schema[c];if(d){let c=al(ak({},b),{method:d.method,output:d.output});return(null==b?void 0:b.disableValidation)||(c=al(ak({},c),{body:d.input?await aw(d.input,null==b?void 0:b.body):null==b?void 0:b.body,params:d.params?await aw(d.params,null==b?void 0:b.params):null==b?void 0:b.params,query:d.query?await aw(d.query,null==b?void 0:b.query):null==b?void 0:b.query})),{url:a,options:c}}}return{url:a,options:b}}})]});if(null==c?void 0:c.catchAllError)try{return await ay(a,e)}catch(a){return{data:null,error:{status:500,statusText:"Fetch Error",message:"Fetch related error. Captured by catchAllError option. See error property for more details.",error:a}}}return await ay(a,e)}),{$sessionSignal:s,session:t}=(h=((a,b,c,d)=>{let e=ac({data:null,error:null,isPending:!0,isRefetching:!1,refetch:a=>f(a)}),f=async a=>new Promise(f=>{let g="function"==typeof d?d({data:e.get().data,error:e.get().error,isPending:e.get().isPending}):d;c(b,{...g,query:{...g?.query,...a?.query},async onSuccess(a){e.set({data:a.data,error:null,isPending:!1,isRefetching:!1,refetch:e.value.refetch}),await g?.onSuccess?.(a)},async onError(a){let{request:b}=a,c="number"==typeof b.retry?b.retry:b.retry?.attempts,d=b.retryAttempt||0;c&&d<c||(e.set({error:a.error,data:null,isPending:!1,isRefetching:!1,refetch:e.value.refetch}),await g?.onError?.(a))},async onRequest(a){let b=e.get();e.set({isPending:null===b.data,data:b.data,error:null,isRefetching:!0,refetch:e.value.refetch}),await g?.onRequest?.(a)}}).catch(a=>{e.set({error:a,data:null,isPending:!1,isRefetching:!1,refetch:e.value.refetch})}).finally(()=>{f(void 0)})});for(let b of a=Array.isArray(a)?a:[a])b.subscribe(async()=>{if(aI())return});return e})(g=ac(!1),"/get-session",r,{method:"GET"}),d=()=>{let b=function(a){let{sessionAtom:b,sessionSignal:c,$fetch:d,options:e={}}=a,f=e.sessionOptions?.refetchInterval??0,g=e.sessionOptions?.refetchOnWindowFocus??!0,h=e.sessionOptions?.refetchWhenOffline??!1,i={lastSync:0,lastSessionRequest:0,cachedSession:void 0},j=a=>{if(!(h||aH().isOnline))return;if(a?.event==="storage"){i.lastSync=aJ(),c.set(!c.get());return}let e=b.get();if(a?.event==="poll"){i.lastSessionRequest=aJ(),d("/get-session").then(a=>{b.set({...e,data:a.data,error:a.error||null}),i.lastSync=aJ(),c.set(!c.get())}).catch(()=>{});return}a?.event==="visibilitychange"&&aJ()-i.lastSessionRequest<5&&e?.data!==null&&e?.data!==void 0||(e?.data===null||e?.data===void 0||a?.event==="visibilitychange")&&(a?.event==="visibilitychange"&&(i.lastSessionRequest=aJ()),i.lastSync=aJ(),c.set(!c.get()))};return{init:()=>{f&&f>0&&(i.pollInterval=setInterval(()=>{b.get()?.data&&j({event:"poll"})},1e3*f)),i.unsubscribeBroadcast=aB().subscribe(()=>{j({event:"storage"})}),g&&(i.unsubscribeFocus=aE().subscribe(()=>{j({event:"visibilitychange"})})),i.unsubscribeOnline=aH().subscribe(a=>{a&&j({event:"visibilitychange"})}),aB().setup(),aE().setup(),aH().setup()},cleanup:()=>{i.pollInterval&&(clearInterval(i.pollInterval),i.pollInterval=void 0),i.unsubscribeBroadcast&&(i.unsubscribeBroadcast(),i.unsubscribeBroadcast=void 0),i.unsubscribeFocus&&(i.unsubscribeFocus(),i.unsubscribeFocus=void 0),i.unsubscribeOnline&&(i.unsubscribeOnline(),i.unsubscribeOnline=void 0),i.lastSync=0,i.lastSessionRequest=0,i.cachedSession=void 0},triggerRefetch:j,broadcastSessionUpdate:a=>{aB().post({event:"session",data:{trigger:a},clientId:Math.random().toString(36).substring(7)})}}}({sessionAtom:h,sessionSignal:g,$fetch:r,options:a});return b.init(),()=>{b.cleanup()}},e=a=>{let b=d(a);b&&h.events[6].push(b)},f=a=>{let b=h.listen;h.listen=(...c)=>(h.lc||h.active||(h.active=!0,a()),b(...c));let c=h.off;return h.events[6]=[],h.off=()=>{c(),setTimeout(()=>{if(h.active&&!h.lc){for(let a of(h.active=!1,h.events[6]))a();h.events[6]=[]}},1e3)},()=>{h.listen=b,h.off=c}},h.events=h.events||{},h.events[15]||(h.events[15]=f(a=>{h.events[5].reduceRight((a,b)=>(b(a),a),{shared:{},...a})})),h.events[5]=h.events[5]||[],h.events[5].push(e),{session:h,$sessionSignal:g}),u=a?.plugins||[],v={},w={$sessionSignal:s,session:t},x={"/sign-out":"POST","/revoke-sessions":"POST","/revoke-other-sessions":"POST","/delete-user":"POST"},y=[{signal:"$sessionSignal",matcher:a=>"/sign-out"===a||"/update-user"===a||"/sign-up/email"===a||"/sign-in/email"===a||"/delete-user"===a||"/verify-email"===a||"/revoke-sessions"===a||"/revoke-session"===a||"/change-email"===a}];for(let a of u)a.getAtoms&&Object.assign(w,a.getAtoms?.(r)),a.pathMethods&&Object.assign(x,a.pathMethods),a.atomListeners&&y.push(...a.atomListeners);let z={notify:a=>{w[a].set(!w[a].get())},listen:(a,b)=>{w[a].subscribe(b)},atoms:w};for(let b of u)b.getActions&&Object.assign(v,b.getActions?.(r,z,a));return{get baseURL(){return j},pluginsActions:v,pluginsAtoms:w,pluginPathMethods:x,atomListeners:y,$fetch:r,$store:z}})(a),k={};for(let[a,b]of Object.entries(g)){k[`use${(c=a).charAt(0).toUpperCase()+c.slice(1)}`]=()=>(function(a,b={}){let c=(0,d.useRef)(a.get()),{keys:e,deps:f=[a,e]}=b,g=(0,d.useCallback)(b=>{let d=a=>{c.current!==a&&(c.current=a,b())};if(d(a.value),e?.length){let b;return b=new Set(e).add(void 0),a.listen((a,c,e)=>{b.has(e)&&d(a,c,e)})}return a.listen(d)},f),h=()=>c.current;return(0,d.useSyncExternalStore)(g,h,h)})(b)}return b={...f,...k,$fetch:h,$store:i},function a(c=[]){return new Proxy(function(){},{get(d,e){var f;if("string"!=typeof e||"then"===e||"catch"===e||"finally"===e)return;let g=[...c,e],h=b;for(let a of g)if(h&&"object"==typeof h&&a in h)h=h[a];else{h=void 0;break}return"function"==typeof h?h:"object"==typeof(f=h)&&null!==f&&"get"in f&&"function"==typeof f.get&&"lc"in f&&"number"==typeof f.lc?h:a(g)},apply:async(a,b,d)=>{let f="/"+c.map(a=>a.replace(/[A-Z]/g,a=>`-${a.toLowerCase()}`)).join("/"),i=d[0]||{},k=d[1]||{},{query:l,fetchOptions:m,...n}=i,o={...k,...m},p=function(a,b,c){let d=b[a],{fetchOptions:e,query:f,...g}=c||{};return d||(e?.method?e.method:g&&Object.keys(g).length>0?"POST":"GET")}(f,e,i);return await h(f,{...o,body:"GET"===p?void 0:{...n,...o?.body||{}},query:l||o?.query,method:p,async onSuccess(a){if(await o?.onSuccess?.(a),!j||o.disableSignal)return;let b=j.filter(a=>a.matcher(f));if(b.length)for(let a of b){let b=g[a.signal];if(!b)return;let c=b.get();setTimeout(()=>{b.set(!c)},10)}}})}})}()}({baseURL:process.env.NEXT_PUBLIC_SITE_URL}),aM=F.object({email:F.string().email({message:"Invalid email address"}),password:F.string().min(8,{message:"Password must be at least 8 characters"})}),aN=F.object({name:F.string().max(20),email:F.string().email({message:"Invalid email address"}),password:F.string().min(8,{message:"Password must be at least 8 characters"}),confirmPassword:F.string().min(8,{message:"Password must be at least 8 characters"})}).refine(a=>a.password===a.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function aO(){return async a=>{let b;aM.parse(a),await aL.signIn.email({email:a.email,password:a.password,callbackURL:"/dashboard"},{onRequest:a=>{b=E.toast.loading("Connection...")},onSuccess:async a=>{b&&E.toast.dismiss(b)},onError:a=>{E.toast.dismiss(b),E.toast.error(a.error.message)}})}}async function aP(){await aL.signOut({fetchOptions:{onSuccess:()=>{window.location.href="/"},onError:a=>{E.toast.error(a.error.message)}}})}function aQ(){return async a=>{let b;aN.parse(a),await aL.signUp.email({name:a.name,email:a.email,password:a.password,callbackURL:"/dashboard"},{onRequest:()=>{b=E.toast.loading("Connection...")},onSuccess:async()=>{b&&E.toast.dismiss(b)},onError:a=>{E.toast.dismiss(b),E.toast.error(a.error.message)}})}}a.s(["SignOut",()=>aP,"signinSchema",0,aM,"signupSchema",0,aN,"useSignIn",()=>aO,"useSignUp",()=>aQ],49370)}];

//# sourceMappingURL=b2c97_%40radix-ui_react-roving-focus_dist_index_mjs_e810ca6f._.js.map