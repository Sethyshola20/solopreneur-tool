module.exports=[44012,a=>{"use strict";let b=(0,a.i(57409).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],44012)},13605,a=>{"use strict";var b=a.i(70973),c=a.i(41506);async function d(){let a=await (0,c.request)("/recettes");if(a.error)throw Error(a.error);return a.data}function e(){return(0,b.useQuery)({queryKey:["recettes"],queryFn:d})}a.s(["useRecettesList",()=>e],13605)},10031,a=>{"use strict";var b=a.i(91346),c=a.i(68802),d=a.i(21717);let e=(0,a.i(57409).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var f=a.i(44012),g=a.i(61751),h=a.i(27473),i=a.i(13605);function j(){let{data:a,isLoading:j,error:k}=(0,i.useRecettesList)();if(j)return(0,b.jsx)("div",{children:"Chargement..."});if(k)return(0,b.jsx)("div",{children:"Erreur lors du chargement des recettes"});let l=a?.reduce((a,b)=>a+Number(b.amount),0)||0;return(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsx)(g.CardTitle,{className:"px-4",children:(0,b.jsx)(f.FileText,{})}),(0,b.jsxs)(d.Button,{onClick:()=>{if(!a||a?.length===0)return;let b=new Blob([["Date,Numéro Facture,Client,Montant,Mode de Paiement",...a.map(a=>[(0,h.format)(new Date(a.date),"dd/MM/yyyy"),a.factureNumber||"-",a.clientName||"-",Number(a.amount).toFixed(2),a.paymentMethod||"-"]).map(a=>a.join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a"),d=URL.createObjectURL(b);c.setAttribute("href",d),c.setAttribute("download",`livre-recettes-${(0,h.format)(new Date,"yyyy-MM-dd")}.csv`),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)},disabled:!a||0===a.length,children:[(0,b.jsx)(e,{className:"mr-2 h-4 w-4"})," Exporter CSV"]})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsxs)(c.Table,{children:[(0,b.jsx)(c.TableHeader,{children:(0,b.jsxs)(c.TableRow,{children:[(0,b.jsx)(c.TableHead,{children:"Date"}),(0,b.jsx)(c.TableHead,{children:"Numéro Facture"}),(0,b.jsx)(c.TableHead,{children:"Client"}),(0,b.jsx)(c.TableHead,{children:"Montant"}),(0,b.jsx)(c.TableHead,{children:"Mode de Paiement"})]})}),(0,b.jsxs)(c.TableBody,{children:[a?.map(a=>(0,b.jsxs)(c.TableRow,{children:[(0,b.jsx)(c.TableCell,{children:(0,h.format)(new Date(a.date),"dd/MM/yyyy")}),(0,b.jsx)(c.TableCell,{children:a.factureNumber||"-"}),(0,b.jsx)(c.TableCell,{children:a.clientName||"-"}),(0,b.jsx)(c.TableCell,{className:"font-medium",children:Number(a.amount).toLocaleString("fr-FR",{style:"currency",currency:"EUR"})}),(0,b.jsx)(c.TableCell,{children:a.paymentMethod||"-"})]},a.id)),a?.length===0&&(0,b.jsx)(c.TableRow,{children:(0,b.jsx)(c.TableCell,{colSpan:5,className:"text-center text-muted-foreground",children:"Aucune recette trouvée."})})]})]}),a&&a.length>0&&(0,b.jsx)("div",{className:"mt-4 flex justify-end",children:(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("span",{className:"text-muted-foreground mr-4",children:"Total:"}),(0,b.jsx)("span",{className:"text-xl font-bold",children:l.toLocaleString("fr-FR",{style:"currency",currency:"EUR"})})]})})]})]})}a.s(["RecettesTable",()=>j],10031)}];

//# sourceMappingURL=Documents_Code_solopreneur-tool_60de2529._.js.map