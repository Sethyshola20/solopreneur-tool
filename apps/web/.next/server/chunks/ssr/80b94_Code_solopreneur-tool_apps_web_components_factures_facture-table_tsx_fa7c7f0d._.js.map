{"version":3,"sources":["../../../../../../../../../Documents/Code/solopreneur-tool/apps/web/lib/validators/factures.ts","../../../../../../../../../Documents/Code/solopreneur-tool/apps/web/components/factures/facture-form.tsx","../../../../../../../../../Documents/Code/solopreneur-tool/apps/web/components/factures/facture-dialog.tsx","../../../../../../../../../Documents/Code/solopreneur-tool/apps/web/components/factures/facture-table.tsx","../../../../../../../../../Documents/Code/solopreneur-tool/node_modules/lucide-react/src/icons/receipt.ts"],"sourcesContent":["import { z } from 'zod';\n\nexport const factureItemSchema = z.object({\n    id: z.string().optional(),\n    description: z.string().min(1, 'La description est requise'),\n    quantity: z.number().min(0.01, 'La quantité doit être positive'),\n    price: z.number().min(0, 'Le prix doit être positif'),\n});\n\nexport const factureSchema = z.object({\n    clientId: z.string().min(1, 'Le client est requis'),\n    devisId: z.string().optional().nullable(),\n    date: z.string().refine((val) => !isNaN(Date.parse(val)), 'Date invalide'),\n    dueDate: z.string().optional().nullable(),\n    status: z.enum(['pending', 'paid', 'cancelled']).default('pending').nonoptional(),\n    items: z.array(factureItemSchema).min(1, 'Au moins un article est requis'),\n});\n\nexport type FactureItemSchema = z.infer<typeof factureItemSchema>;\nexport type FactureSchema = z.infer<typeof factureSchema>;\n","'use client';\n\nimport { useForm, useFieldArray } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { factureSchema, type FactureSchema } from '@/lib/validators/factures';\nimport { Button } from '@/components/ui/button';\nimport {\n    Form,\n    FormControl,\n    FormField,\n    FormItem,\n    FormLabel,\n    FormMessage,\n    FormDescription,\n} from '@/components/ui/form';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { CardContent, CardFooter } from '@/components/ui/card';\nimport { useCreateFacture, useUpdateFacture } from '@/hooks/use-factures';\nimport { useClients } from '@/hooks/use-clients';\nimport { Trash2, Plus, Loader2 } from 'lucide-react';\nimport { toast } from 'sonner';\nimport { FactureWithItems } from '@/lib/use-cases/factures';\nimport { DialogContent, DialogHeader, DialogTitle } from '../ui/dialog';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '../ui/select';\nimport { DatePicker } from '../ui/date-picker';\nimport { useEffect } from 'react';\n\ninterface FactureFormProps {\n    open: boolean;\n    onOpenChange: (open: boolean) => void;\n    initialData?: FactureWithItems;\n    factureId?: string;\n}\n\nexport function FactureForm({ onOpenChange, initialData, factureId }: FactureFormProps) {\n    const createMutation = useCreateFacture();\n    const updateMutation = useUpdateFacture(factureId || '');\n\n    const { data: clients } = useClients();\n\n    const initalFormData = initialData\n        ? {\n            clientId: initialData.clientId ?? clients?.[0].id,\n            devisId: initialData.devisId ?? \"\",\n            date: initialData.date ?? \"\",\n            dueDate: initialData.dueDate ?? \"\",\n            status: initialData.status as 'pending' | 'paid' | 'cancelled',\n            items: (Array.isArray(initialData.items) ? initialData.items : [initialData.items]).map(item => ({\n                ...item,\n                quantity: Number(item.quantity),\n                price: Number(item.price),\n            }))\n        }\n        : undefined;\n\n    const form = useForm<FactureSchema>({\n        resolver: zodResolver(factureSchema),\n        defaultValues: initalFormData || {\n            clientId: clients?.[0].id,\n            devisId: \"\",\n            date: new Date().toISOString().split(\"T\")[0],\n            dueDate: \"\",\n            status: 'pending' as 'pending' | 'paid' | 'cancelled',\n            items: [\n                {\n                    description: \"\",\n                    quantity: 1,\n                    price: 1,\n                }\n            ]\n        },\n    });\n\n    const { fields, append, remove } = useFieldArray({\n        control: form.control,\n        name: 'items',\n    });\n\n    useEffect(() => {\n        form.reset(initalFormData || {\n            clientId: clients?.[0].id,\n            devisId: \"\",\n            date: new Date().toISOString().split(\"T\")[0],\n            dueDate: \"\",\n            status: 'pending' as 'pending' | 'paid' | 'cancelled',\n            items: [\n                {\n                    description: \"\",\n                    quantity: 1,\n                    price: 1,\n                }\n            ]\n        });\n    }, [initialData, form]);\n\n    const onSubmit = async (data: FactureSchema) => {\n        const mutation = factureId ? updateMutation : createMutation;\n\n        toast.promise(\n            mutation.mutateAsync(data).then(() => {\n                onOpenChange(false);\n                form.reset();\n            }),\n            {\n                loading: factureId ? 'Mise à jour...' : 'Création...',\n                success: factureId ? 'Facture mise à jour avec succès !' : 'Facture créée avec succès !',\n                error: (error) => 'Erreur: ' + error.message,\n            }\n        );\n    };\n\n\n    const isPending = createMutation.isPending || updateMutation.isPending;\n\n    // Calculate Total\n    const items = form.watch('items') || [\n        {\n            description: \"\",\n            quantity: 1,\n            price: 1,\n        }\n    ];\n    const total = items.reduce((acc, item) => {\n        return acc + (Number(item.quantity) || 0) * (Number(item.price) || 0);\n    }, 0);\n\n    return (\n        <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\n            <DialogHeader>\n                <DialogTitle>{factureId ? 'Modifier la facture' : 'Nouvelle facture'}</DialogTitle>\n            </DialogHeader>\n            <Form {...form}>\n                <form onSubmit={form.handleSubmit(onSubmit)}>\n                    <CardContent className=\"p-0\">\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                            <FormField\n                                control={form.control}\n                                name=\"clientId\"\n                                render={({ field }) => (\n                                    <FormItem >\n                                        <FormLabel>Client *</FormLabel>\n                                        <FormControl>\n                                            <Select onValueChange={(value) => field.onChange(value)} value={field.value}>\n                                                <SelectTrigger className='w-full'>\n                                                    <SelectValue\n                                                        placeholder={\n                                                            clients?.length === 1\n                                                                ? clients?.[0].name\n                                                                : clients?.find(\n                                                                    (client) => client.id.toString() === field.value\n                                                                )?.name || 'Select a client' || clients?.length === 0 && 'No clients'\n                                                        }\n                                                    />\n                                                </SelectTrigger>\n                                                <SelectContent>\n                                                    {clients?.map((client) => (\n                                                        <SelectItem key={client.id} value={client.id}>\n                                                            {client.name}\n                                                        </SelectItem>\n                                                    ))}\n                                                </SelectContent>\n                                            </Select>\n                                        </FormControl>\n                                        <FormMessage />\n                                    </FormItem>\n                                )}\n                            />\n\n                            <FormField\n                                control={form.control}\n                                name=\"date\"\n                                render={({ field }) => (\n                                    <FormItem>\n                                        <FormLabel>Date *</FormLabel>\n                                        <FormControl>\n                                            <DatePicker\n                                                value={field.value ?? \"\"}\n                                                onChange={(value) => field.onChange(value || \"\")}\n                                                placeholder={field.value ?? \"\"}\n                                            />\n                                        </FormControl>\n                                        <FormMessage />\n                                    </FormItem>\n                                )}\n                            />\n\n                            <FormField\n                                control={form.control}\n                                name=\"dueDate\"\n                                render={({ field }) => (\n                                    <FormItem>\n                                        <FormLabel>Date d'échéance (optionnel)</FormLabel>\n                                        <FormControl>\n                                            <DatePicker\n                                                value={field.value ?? \"\"}\n                                                onChange={(value) => field.onChange(value || \"\")}\n                                                placeholder=\"Sélectionner la date d'échéance\"\n                                            />\n                                        </FormControl>\n                                        <FormMessage />\n                                    </FormItem>\n                                )}\n                            />\n\n                            <FormField\n                                control={form.control}\n                                name=\"status\"\n                                render={({ field }) => (\n                                    <FormItem>\n                                        <FormLabel>Statut</FormLabel>\n                                        <FormControl>\n                                            <Select onValueChange={(value) => field.onChange(value)}\n                                                value={field.value}>\n                                                <SelectTrigger className='w-full'>\n                                                    <SelectValue placeholder={field.value || 'Select a status'} />\n                                                </SelectTrigger>\n                                                <SelectContent>\n                                                    <SelectItem value=\"pending\">En attente</SelectItem>\n                                                    <SelectItem value=\"paid\">Payée</SelectItem>\n                                                    <SelectItem value=\"cancelled\">Annulée</SelectItem>\n                                                </SelectContent>\n                                            </Select>\n                                        </FormControl>\n                                        <FormMessage />\n                                    </FormItem>\n                                )}\n                            />\n                        </div>\n\n                        <div className=\"space-y-4\">\n                            <div className=\"flex items-center justify-between border-b pb-2\">\n                                <h3 className=\"text-lg font-medium\">Articles</h3>\n                                <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={() => append({ description: '', quantity: 1, price: 0 })}>\n                                    <Plus className=\"mr-2 h-4 w-4\" /> Ajouter un article\n                                </Button>\n                            </div>\n\n                            {fields.map((field, index) => (\n                                <div key={field.id} className=\"grid grid-cols-12 gap-2 items-end\">\n                                    <div className=\"col-span-6 space-y-1\">\n                                        <Label className=\"text-xs\">Description</Label>\n                                        <Input {...form.register(`items.${index}.description`)} placeholder=\"Description de l'article\" />\n                                        {form.formState.errors.items?.[index]?.description && (\n                                            <p className=\"text-xs text-destructive\">{form.formState.errors.items[index]?.description?.message}</p>\n                                        )}\n                                    </div>\n                                    <div className=\"col-span-2 space-y-1\">\n                                        <Label className=\"text-xs\">Qté</Label>\n                                        <Input type=\"number\" step=\"0.01\" {...form.register(`items.${index}.quantity`)} />\n                                    </div>\n                                    <div className=\"col-span-3 space-y-1\">\n                                        <Label className=\"text-xs\">Prix Unit.</Label>\n                                        <Input type=\"number\" step=\"0.01\" {...form.register(`items.${index}.price`)} />\n                                    </div>\n                                    <div className=\"col-span-1\">\n                                        <Button type=\"button\" variant=\"ghost\" size=\"icon\" className=\"text-destructive\" onClick={() => remove(index)}>\n                                            <Trash2 className=\"h-4 w-4\" />\n                                        </Button>\n                                    </div>\n                                </div>\n                            ))}\n                            {form.formState.errors.items && (\n                                <p className=\"text-sm text-destructive\">{form.formState.errors.items.message}</p>\n                            )}\n                        </div>\n\n                        <div className=\"flex justify-end pt-4 \">\n                            <div className=\"text-right\">\n                                <span className=\"text-muted-foreground mr-4\">Total:</span>\n                                <span className=\"text-2xl font-bold\">{total.toLocaleString('fr-FR', { style: 'currency', currency: 'EUR' })}</span>\n                            </div>\n                        </div>\n\n                        <div className=\"bg-muted p-3 rounded-md\">\n                            <FormDescription className=\"font-medium\">\n                                * TVA non applicable – art. 293 B du CGI\n                            </FormDescription>\n                        </div>\n                    </CardContent>\n                    <CardFooter className=\"flex justify-end gap-2\">\n                        <Button type=\"submit\" disabled={isPending}>\n                            {isPending ? (\n                                <>\n                                    <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                                    Enregistrement...\n                                </>\n                            ) : (\n                                'Enregistrer'\n                            )}\n                        </Button>\n                    </CardFooter>\n                </form>\n            </Form>\n        </DialogContent>\n    );\n}\n","'use client';\n\nimport {\n    Dialog,\n    DialogContent,\n    DialogHeader,\n    DialogTitle,\n} from '@/components/ui/dialog';\nimport { FactureForm } from './facture-form';\nimport { FactureWithItems } from '@/lib/use-cases/factures';\n\n\ninterface FactureDialogProps {\n    open: boolean;\n    onOpenChange: (open: boolean) => void;\n    initialData?: FactureWithItems;\n    factureId?: string;\n}\n\nexport function FactureDialog({ open, onOpenChange, initialData, factureId }: FactureDialogProps) {\n    return (\n        <Dialog open={open} onOpenChange={onOpenChange}>\n            <FactureForm\n                open={open}\n                onOpenChange={onOpenChange}\n                initialData={initialData}\n                factureId={factureId}\n            />\n        </Dialog>\n    )\n}","'use client';\n\nimport {\n    Table,\n    TableBody,\n    TableCell,\n    TableHead,\n    TableHeader,\n    TableRow,\n} from '@/components/ui/table';\nimport { Button } from '@/components/ui/button';\nimport { Edit, Trash2, Plus, Receipt } from 'lucide-react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { useDeleteFacture, useFacturesList } from '@/hooks/use-factures';\nimport { format } from 'date-fns';\nimport { toast } from 'sonner';\nimport { Facture, FactureWithItems } from '@/lib/use-cases/factures';\nimport { useState } from 'react';\nimport { DeleteDialiog } from '../delete-dialog';\nimport { FactureDialog } from './facture-dialog';\nimport { IconBible } from '@tabler/icons-react';\n\n\nexport function FactureTable() {\n    const { data: facturesList, isLoading, error } = useFacturesList();\n\n    const [dialogOpen, setDialogOpen] = useState(false);\n    const [selectedFacture, setSelectedFacture] = useState<FactureWithItems | null>(null);\n\n    const deleteMutation = useDeleteFacture()\n\n    if (isLoading) return <div>Chargement...</div>;\n    if (error) return <div>Erreur lors du chargement des factures</div>;\n\n    const handleDelete = async (id: string) => {\n        toast.promise(deleteMutation.mutateAsync(id), {\n            loading: \"Suppression de la facture...\",\n            success: \"Facture supprimée\",\n            error: (error: Error) => 'Erreur de suppression de la facture : ' + error.message,\n        })\n    };\n\n\n    const handleEdit = (facture: FactureWithItems) => {\n        setSelectedFacture(facture);\n        setDialogOpen(true);\n    };\n\n    const handleCreate = () => {\n        setSelectedFacture(null);\n        setDialogOpen(true);\n    };\n\n    const handleCloseDialog = () => {\n        setDialogOpen(false);\n        setSelectedFacture(null);\n    };\n\n    const getStatusColor = (status: string) => {\n        switch (status) {\n            case 'pending': return 'bg-yellow-100 text-yellow-800';\n            case 'paid': return 'bg-green-100 text-green-800';\n            case 'cancelled': return 'bg-red-100 text-red-800';\n            default: return 'bg-gray-100 text-gray-800';\n        }\n    };\n\n    const getStatusLabel = (status: string) => {\n        switch (status) {\n            case 'pending': return 'En attente';\n            case 'paid': return 'Payée';\n            case 'cancelled': return 'Annulée';\n            default: return status;\n        }\n    };\n\n    return (\n        <>\n            <Card>\n                <CardHeader className=\"flex flex-row items-center justify-between\">\n                    <CardTitle className='px-4'><Receipt /></CardTitle>\n                    <Button onClick={handleCreate}>\n                        <Plus className=\"mr-2 h-4 w-4\" /> Nouvelle Facture\n                    </Button>\n                </CardHeader>\n                <CardContent>\n                    <Table>\n                        <TableHeader>\n                            <TableRow>\n                                <TableHead>Numéro</TableHead>\n                                <TableHead>Client</TableHead>\n                                <TableHead>Date</TableHead>\n                                <TableHead>Échéance</TableHead>\n                                <TableHead>Total</TableHead>\n                                <TableHead>Statut</TableHead>\n                                <TableHead className=\"text-right\">Actions</TableHead>\n                            </TableRow>\n                        </TableHeader>\n                        <TableBody>\n                            {facturesList?.map((facture, index) => (\n                                <TableRow key={index}>\n                                    <TableCell className=\"font-medium\">{facture.number}</TableCell>\n                                    <TableCell>{facture.clientName || 'Client inconnu'}</TableCell>\n                                    <TableCell>{format(new Date(facture.date), 'dd/MM/yyyy')}</TableCell>\n                                    <TableCell>{facture.dueDate ? format(new Date(facture.dueDate), 'dd/MM/yyyy') : '-'}</TableCell>\n                                    <TableCell>{Number(facture.total).toLocaleString('fr-FR', { style: 'currency', currency: 'EUR' })}</TableCell>\n                                    <TableCell>\n                                        <span className={`px-2 py-1 rounded-full text-xs font-semibold ${getStatusColor(facture.status)}`}>\n                                            {getStatusLabel(facture.status)}\n                                        </span>\n                                    </TableCell>\n                                    <TableCell className=\"text-right\">\n                                        <Button variant=\"ghost\" size=\"icon\" onClick={() => handleEdit(facture)}>\n                                            <Edit className=\"h-4 w-4\" />\n                                        </Button>\n                                        <DeleteDialiog handleDelete={handleDelete} id={facture.id} ressource={'facture'} />\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                            {facturesList?.length === 0 && (\n                                <TableRow>\n                                    <TableCell colSpan={7} className=\"text-center text-muted-foreground\">\n                                        Aucune facture trouvée.\n                                    </TableCell>\n                                </TableRow>\n                            )}\n                        </TableBody>\n                    </Table>\n                    <div className=\"mt-4 text-sm text-muted-foreground\">\n                        <p>* TVA non applicable – art. 293 B du CGI</p>\n                    </div>\n                </CardContent>\n            </Card>\n            <FactureDialog\n                open={dialogOpen}\n                onOpenChange={handleCloseDialog}\n                initialData={selectedFacture || undefined}\n                factureId={selectedFacture?.id}\n            />\n        </>\n    );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    { d: 'M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z', key: 'q3az6g' },\n  ],\n  ['path', { d: 'M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8', key: '1h4pet' }],\n  ['path', { d: 'M12 17.5v-11', key: '1jc1ny' }],\n];\n\n/**\n * @component @name Receipt\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAydjIwbDItMSAyIDEgMi0xIDIgMSAyLTEgMiAxIDItMSAyIDFWMmwtMiAxLTItMS0yIDEtMi0xLTIgMS0yLTEtMiAxWiIgLz4KICA8cGF0aCBkPSJNMTYgOGgtNmEyIDIgMCAxIDAgMCA0aDRhMiAyIDAgMSAxIDAgNEg4IiAvPgogIDxwYXRoIGQ9Ik0xMiAxNy41di0xMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/receipt\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Receipt = createLucideIcon('receipt', __iconNode);\n\nexport default Receipt;\n"],"names":[],"mappings":"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","ignoreList":[4]}